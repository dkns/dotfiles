#!/bin/sh

file=$1
shift
run_command="$*"
inithash="$(md5sum "$file")"
work_dir=$(pwd)

while :; do
  currhash="$(md5sum "$file")"

  if [ "$currhash" != "$inithash" ]; then
    inithash="$currhash"
    clear
    echo "Clearing old output"
    cd "$work_dir"
    $run_command
  fi
  sleep 1
done
